{% extends "base.html" %}

{% block title %}Pepeha Result{% endblock %}

{% block content %}
<div class="<div class=flex-grow flex items-center justify-center p-4">
    <div class="w-full max-w-md">
        <div class="bg-green-900 text-green-300 p-4 rounded-lg mb-4 shadow-2xl">
            <h1 class="text-2xl font-bold text-center">YOUR PEPEHA</h1>
        </div>
        <div class="bg-gray-800 p-6 rounded-lg shadow-2xl">
            <div id="pepehaResult" class="pepeha-text text-center mb-6">
                {% if ethnicity == 'pakeha' %}   
                    Tēnā koutou katoa<br>
                    Ko {{ mtTranslated }} te maunga.<br>
                    Ko {{ river }} te awa.<br>
                    Nō {{ homeTranslated }} ahau.<br>
                    Ko {{ family_name }} te whānau.<br>
                    Ko {{ name }} tōku ingoa.<br>
                    Tēnā tātou katoa<br>
                {% elif ethnicity == 'maori' %}
                    Tēnā koutou katoa<br>
                    Ko {{ maungaTranslated }} te maunga.<br>
                    Ko {{ awa }} te awa.<br>
                    Ko {{ waka }} te waka.<br>
                    Ko {{ iwi }} te iwi.<br>
                    Ko {{ marae }} te marae.<br>
                    Ko {{ whanau }} te whānau.<br>
                    Ko {{ ingoa }} tōku ingoa.<br>
                    Tēnā tātou katoa
                {% endif %}
            </div>
            <div class="relative">
                <button id="copyButton" class="w-full bg-gray-700 text-gray-300 p-3 rounded mt-4 text-sm custom-shadow-more flex items-center justify-center">
                    COPY TO CLIPBOARD
                    <svg class="tick-icon w-6 h-6 inline-block ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                </button>
            </div>
            <a href="/generate" class="block w-full bg-green-700 text-green-100 p-3 rounded mt-4 text-sm text-center custom-shadow-more hover:bg-green-600 transition duration-300">GENERATE ANOTHER</a>
        </div>
    </div>
</div>
    <script>
        document.getElementById('copyButton').addEventListener('click', function() {
            const pepehaText = document.getElementById('pepehaResult').innerText;
            navigator.clipboard.writeText(pepehaText).then(function() {
                const tickIcon = document.querySelector('.tick-icon');
                tickIcon.style.display = 'inline-block';
                tickIcon.classList.add('tick-animation');
                
                tickIcon.addEventListener('animationend', function() {
                    tickIcon.style.display = 'none';
                    tickIcon.classList.remove('tick-animation');
                }, { once: true });
        
            }, function(err) {
                console.error('Could not copy text: ', err);
            });
        }); 
    </script>

{% endblock %}
    
</body>
</html>